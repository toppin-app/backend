<!-- Lista de Categorias -->
<div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;">

  <!-- Table Header -->
  <div style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%); padding: 15px 24px; border-bottom: 3px solid #0ea5e9;">
    <div style="display: grid; grid-template-columns: 60px 1fr 140px 320px; column-gap: 32px; align-items: center;">
      <div style="color: #94a3b8; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;">
        #
      </div>
      <div style="color: #94a3b8; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;">
        <i class="fas fa-key"></i> Translation Key
      </div>
      <div style="color: #94a3b8; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; text-align: right;">
        <i class="fas fa-list"></i> Valores
      </div>
      <div style="color: #94a3b8; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; text-align: right;">
        <i class="fas fa-cog"></i> Acciones
      </div>
    </div>
  </div>

  <!-- Table Body -->
  <div style="max-height: 70vh; overflow-y: auto; scrollbar-gutter: stable;">
    <% @info_item_categories.each_with_index do |category, index| %>

      <div id="category-row-<%= category.id %>"
           style="border-bottom: 1px solid #f1f5f9; transition: background 0.2s; <%= 'background: #f8fafc;' if index.even? %>"
           onmouseover="this.style.background='#f0f9ff';"
           onmouseout="this.style.background='<%= index.even? ? '#f8fafc' : 'white' %>'">

        <div style="padding: 16px 24px; display: grid; grid-template-columns: 60px 1fr 140px 320px; column-gap: 32px; align-items: center; cursor: pointer;"
             onclick="toggleExpand(<%= category.id %>)">

          <!-- ID -->
          <div style="color: #94a3b8; font-weight: 600; font-size: 14px;">
            #<%= category.id %>
          </div>

          <!-- Translation Key -->
          <div style="display: flex; align-items: center; gap: 8px; min-width: 0;">
            <i id="expand-icon-<%= category.id %>" class="fas fa-chevron-right"
               style="color: #64748b; font-size: 12px; flex-shrink: 0; transition: transform 0.2s;"></i>

            <i class="fas fa-language"
               style="color: #64748b; font-size: 16px; flex-shrink: 0;"></i>

            <code style="background: #f1f5f9; padding: 5px 10px; border-radius: 6px;
                         font-size: 13px; color: #334155; font-weight: 600;
                         font-family: 'Monaco', monospace;
                         border: 1px solid #e2e8f0;
                         white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
              <%= category.name %>
            </code>
          </div>

          <!-- Valores -->
          <div style="text-align: right;">
            <span style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                         color: #1e40af; padding: 5px 12px;
                         border-radius: 20px; font-weight: 700;
                         font-size: 13px; display: inline-block;
                         min-width: 30px; text-align: center;">
              <%= category.info_item_values.count %>
            </span>
          </div>

          <!-- Acciones -->
          <div style="text-align: right; display: flex; justify-content: flex-end; gap: 8px;"
               onclick="event.stopPropagation();">

            <%= link_to category,
                class: 'btn-start',
                style: 'padding: 7px 14px; font-size: 12px;
                        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
                        display: inline-flex; align-items: center; gap: 5px;
                        white-space: nowrap;',
                title: 'Gestionar valores' do %>
              <i class="fas fa-cogs"></i> Gestionar
            <% end %>

            <%= link_to edit_info_item_category_path(category),
                class: 'btn-start',
                style: 'padding: 7px 14px; font-size: 12px;
                        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
                        display: inline-flex; align-items: center; gap: 5px;
                        white-space: nowrap;',
                title: 'Editar categoria' do %>
              <i class="fas fa-edit"></i> Editar
            <% end %>

            <%= link_to category,
                method: :delete,
                data: { confirm: "Â¿Confirmas la eliminacion?" },
                class: 'btn-start',
                style: 'padding: 7px 14px; font-size: 12px;
                        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
                        display: inline-flex; align-items: center; gap: 5px;
                        white-space: nowrap;',
                title: 'Eliminar categoria' do %>
              <i class="fas fa-trash"></i> Eliminar
            <% end %>

          </div>
        </div>

        <!-- Expanded Content -->
        <div id="expand-content-<%= category.id %>"
             style="max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out;">
          <div style="padding: 12px 24px 12px 84px; background: #f8fafc; border-top: 1px solid #e2e8f0;">
            <div style="color: #64748b; font-size: 12px; font-weight: 600; margin-bottom: 8px; text-transform: uppercase;">
              Valores:
            </div>

            <div style="display: flex; flex-wrap: wrap; gap: 6px;">
              <% category.info_item_values.each do |value| %>
                <span style="background: white; border: 1px solid #e2e8f0;
                             padding: 4px 10px; border-radius: 6px;
                             font-size: 12px;">
                  <%= value.name %>
                </span>
              <% end %>
            </div>
          </div>
        </div>

      </div>

    <% end %>
  </div>
</div>
