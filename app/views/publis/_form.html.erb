<%= form_with(model: publi, local: true) do |form| %>
  <% if publi.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(publi.errors.count, "error") %> prohibited this publi from being saved:</h2>

      <ul>
        <% publi.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Recomendaciones de diseño óptimo -->
  <div class="alert alert-info" role="alert">
    <h5 class="alert-heading"><i class="fas fa-lightbulb"></i> Recomendaciones de Diseño Óptimo</h5>
    <hr>
    <div class="row">
      <div class="col-md-6">
        <p class="mb-2"><strong>Tamaño óptimo:</strong></p>
        <ul class="mb-3">
          <li>350 x 100 píxeles</li>
          <li>700 x 200 píxeles</li>
        </ul>
        <p class="mb-2"><strong>Aspect Ratio:</strong> 3.5:1 (7:2)</p>
      </div>
      <div class="col-md-6">
        <p class="mb-2"><strong>Área Segura:</strong></p>
        <ul class="mb-3">
          <li>Dejar 10-15px de margen interno en todos los lados</li>
          <li>Evitar texto o elementos importantes en los bordes</li>
          <li>El sistema aplica automáticamente border-radius</li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <p class="mb-2"><strong>Composición Visual:</strong></p>
        <ul class="mb-0">
          <li>Modo de visualización: <strong style="color: #0066cc;">cover</strong> (la imagen se recorta para llenar el contenedor)</li>
          <li>Centrar elementos importantes vertical y horizontalmente</li>
          <li>Evitar información crítica en los extremos horizontales</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="field">
    <%= form.label "Título del anuncio" %>
    <%= form.text_field :title, class: 'form-control' %>
  </div>

  <div class="field">
    <%= form.label "Fecha inicio" %>
    <%= form.datetime_select :start_date %>
  </div>

  <div class="field">
    <%= form.label "Fecha fin" %>
    <%= form.datetime_select :end_date %>
  </div>

  <div class="field">
    <%= form.label "Días de la semana" %>
  
    <% if @edit %>
    <%= form.select :weekdays, options_for_select(@weekdays, @publi.weekdays.split(",")), {}, {:multiple => true, class: 'form-control selectpicker', "data-live-search" => "true"}%>
    <% else %>
    <%= form.select :weekdays, options_for_select(@weekdays, []), {}, {:multiple => true, class: 'form-control selectpicker', "data-live-search" => "true"}%>
    <% end %>

  </div>

  <div class="field">
    <%= form.label "Horario de inicio" %>
    <%= form.time_select :start_time %>
  </div>

  <div class="field">
    <%= form.label "Horario de fin" %>
    <%= form.time_select :end_time %>
  </div>

  <div class="field">
    <%= form.label "Imagen" %>
    <%= form.file_field :image %>
  </div>

  <div class="field">
    <%= form.label :video %>
    <%= form.file_field :video %>
  </div>

  <div class="field">
    <%= form.label :link %>
    <%= form.text_field :link, class: 'form-control' %>
  </div>

  <div class="field">
    <%= form.label :cancellable %>
    <%= form.check_box :cancellable %>
  </div>

  <div class="field">
    <%= form.label "Cada cuantos swipes" %>
    <%= form.number_field :repeat_swipes, class: 'form-control' %>
  </div>

  <div class="actions">
    <%= form.submit "Guardar", class: 'btn btn-success btn-sm' %>
  </div>
<% end %>
